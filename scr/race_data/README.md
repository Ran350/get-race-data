# レースデータ収集

## 準備

- race_id ディレクトリに "race_id{西暦}.csv" が存在しない場合には，
  TNB くんに頼んで用意してもらってください．

- year にレースデータを取得したい年をしてください．

> main.py
>
> > def main():
> >
> >     base_url = 'https://db.netkeiba.com/race/'
> >
> >     id_list = [] # ['202002020103']
> >
> >     year = '2021'

## 実行

```sh
python main.py
```

取得に成功すると，race\*data ディレクトリに，
race*data*{西暦}.json が生成されます．

## 出力形式

- 順位が数値でないものは除外
  (''(なし),'除','中','取','失','降','再')

## データ構造

```
[
  {
    "netkeiba_id":"12桁の調教師id(文字列型)",
    "レース名":"レース名",
    "馬場状態": "芝/ダート",
    "周り方":"右/左",
    "距離": 走距離(整数，単位:m),
    "天気": "晴/曇/雨",
    "開催日":"yyyy年mm月dd日",
    "賞金":[賞金(単位:m),~,~],
    "競走馬": [
      {
        "競走馬ID":"10桁の競走馬id(文字列型)",
        "順位": 順位(整数),
        "馬番": 馬番(整数),
        "性別": "牡/牝/セ",
        "年齢": 年齢(整数),
        "斤量": 斤量(小数)
        "単勝オッズ": オッズ(小数),
        "体重": 体重(整数),
        "体重増減": 体重増減(整数)
      },
      {
          ...(その他の競走馬データ)...
      }
    ]
  },
  {
      ...(その他のレースデータ)...
  }
]
```
